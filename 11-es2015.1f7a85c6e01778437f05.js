(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{Hf5g:function(i,o,t){"use strict";t.r(o),t.d(o,"AuthorizationsPageModule",(function(){return I}));var n=t("ofXK"),e=t("3Pt+"),a=t("TEn/"),b=t("tyNb"),r=t("mrSG"),c=t("J0L8"),s=t("fXoL"),l=t("N+K7"),u=t("EnSQ"),d=t("2MiI");function m(i,o){if(1&i){const i=s.Lb();s.Kb(0,"ion-item"),s.Kb(1,"ion-button",7),s.Sb("click",(function(){return s.bc(i),s.Ub().validatefamilygroup()})),s.Ib(2,"ion-icon",8),s.fc(3," Familia"),s.Jb(),s.Jb()}}function f(i,o){if(1&i&&(s.Kb(0,"ion-item"),s.Kb(1,"ion-avatar",9),s.Ib(2,"img",10),s.Jb(),s.Kb(3,"ion-label",11),s.Kb(4,"p",12),s.fc(5),s.Jb(),s.Kb(6,"h5",13),s.fc(7),s.Jb(),s.Kb(8,"h5",13),s.fc(9),s.Jb(),s.Jb(),s.Jb()),2&i){const i=s.Ub();s.xb(5),s.hc("",i.datauser.NOMBRE," "),s.xb(2),s.gc(i.datauser.TIPO_FAMILIA),s.xb(2),s.ic("",i.datauser.TIPO_DOCUMENTO," - ",i.datauser.DOCUMENTO,"")}}function p(i,o){1&i&&(s.Kb(0,"ion-item"),s.Kb(1,"ion-avatar",9),s.Ib(2,"img",14),s.Jb(),s.Ib(3,"ion-skeleton-text",15),s.Jb())}function h(i,o){if(1&i){const i=s.Lb();s.Kb(0,"ion-card",16),s.Kb(1,"ion-icon",17),s.Sb("click",(function(){s.bc(i);const t=o.$implicit;return s.Ub().getAuthorization(t)})),s.Jb(),s.Kb(2,"ion-card-content"),s.Kb(3,"ion-grid"),s.Kb(4,"ion-row"),s.Kb(5,"ion-col"),s.Kb(6,"h4",18),s.fc(7),s.Jb(),s.Jb(),s.Jb(),s.Kb(8,"ion-row"),s.Kb(9,"ion-col",19),s.Kb(10,"ion-label"),s.Ib(11,"ion-icon",20),s.Jb(),s.Jb(),s.Kb(12,"ion-col"),s.Kb(13,"ion-label"),s.Kb(14,"h6",21),s.fc(15),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Kb(16,"ion-row"),s.Kb(17,"ion-col",19),s.Kb(18,"ion-label"),s.Ib(19,"ion-icon",22),s.Jb(),s.Jb(),s.Kb(20,"ion-col"),s.Kb(21,"ion-label"),s.Kb(22,"h6",21),s.fc(23),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Kb(24,"ion-row"),s.Kb(25,"ion-col",19),s.Kb(26,"ion-label"),s.Ib(27,"ion-icon",23),s.Jb(),s.Jb(),s.Kb(28,"ion-col"),s.Kb(29,"ion-label"),s.Kb(30,"h6",21),s.fc(31),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Kb(32,"ion-row"),s.Kb(33,"ion-col",19),s.Kb(34,"ion-label"),s.Ib(35,"ion-icon",20),s.Jb(),s.Jb(),s.Kb(36,"ion-col"),s.Kb(37,"ion-label"),s.Kb(38,"h6",21),s.fc(39),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Kb(40,"ion-row"),s.Kb(41,"ion-col",24),s.Kb(42,"div"),s.Kb(43,"ion-icon",25),s.Sb("click",(function(){s.bc(i);const t=o.$implicit;return s.Ub().printAut(t)})),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Jb()}if(2&i){const i=o.$implicit;s.xb(7),s.hc(" # ",i.NUMERO_AUTORIZACION,""),s.xb(8),s.hc(" Autorizaci\xf3n ",i.FECHA_AUTORIZACION," "),s.xb(8),s.hc(" ",i.SERVICIO_AUTORIZACION," "),s.xb(8),s.hc(" Servicios autorizados ",i.SERVICIO_AUTORIZADO," "),s.xb(8),s.hc(" Vigencia ",i.FECHA_VIGENCIA," ")}}const g=[{path:"",component:(()=>{class i{constructor(i,o,t,n){this.modalController=i,this.service=o,this.dataservice=t,this.router=n,this.lengthfamily=0}ngOnInit(){}ionViewWillEnter(){this.validatefamilygroup()}validatefamilygroup(){this.service.getQuery("servicios/identificacion/afiliado/grupo-familiar",!0).subscribe(i=>{let o;o=i,this.lengthfamily=o.data.length,"C"==localStorage.getItem("tipo_afil")&&this.lengthfamily>1?this.presentModal(o):(this.datauser={DOCUMENTO:localStorage.getItem("documento"),NOMBRE:localStorage.getItem("nombre_afiliado"),TIPO_DOCUMENTO:localStorage.getItem("tipodocumento"),TIPO_FAMILIA:localStorage.getItem("tipo_familia"),ESTADO:localStorage.getItem("estado")},this.getAuthorizations(localStorage.getItem("tipodocumento"),localStorage.getItem("documento")))})}presentModal(i){return Object(r.a)(this,void 0,void 0,(function*(){const o=yield this.modalController.create({component:c.a,cssClass:"my-custom-class",backdropDismiss:!1,componentProps:{grupofamiliar:i.data}});return o.onDidDismiss().then(i=>{const o=i.data;this.datauser=o,this.getAuthorizations(o.TIPO_DOCUMENTO,o.DOCUMENTO)}),yield o.present()}))}getAuthorizations(i,o){this.service.getQuery("procesos/autorizaciones/",!0,{tipo_documento:i,documento:o}).subscribe(i=>{this.listAutorizaciones=i,this.service.post("servicios/trazabilidad/traza?modulo=7").subscribe(i=>{})})}getAuthorization(i){this.dataservice.setData(i),this.router.navigate(["detail-authorization"])}printAut(i){this.service.post("procesos/autorizaciones/"+i.UBICACION+"/"+i.NUM_AUT+"/pdf","").subscribe(i=>{this.downloadPdf(i.data,"text")})}downloadPdf(i,o){window.open(i)}}return i.\u0275fac=function(o){return new(o||i)(s.Hb(a.Q),s.Hb(l.a),s.Hb(u.a),s.Hb(b.h))},i.\u0275cmp=s.Bb({type:i,selectors:[["app-authorizations"]],decls:9,vars:4,consts:[["titulo","Consulta Autorizaciones"],["fullscreen","",1,"ion-padding"],[4,"ngIf"],["lines","none"],[1,"thumnails",2,"overflow-x","scroll","overflow-y","hidden"],[1,"list-card"],["class","card-thumb",4,"ngFor","ngForOf"],["fill","clear","slot","end",1,"text-transform-initial",3,"click"],["name","people-outline","slot","end",2,"font-size","25px"],["slot","end"],["src","assets/img/icono-perfil.png"],["text-wrap",""],[1,"color-blue"],[1,"tipo_familia"],["src","../../../assets/img/icono-perfil.png"],["animated","",2,"width","90%"],[1,"card-thumb"],["name","information-circle-outline",1,"ion-float-right",2,"position","relative","z-index","99999","font-size","30px","color","#B9BED1",3,"click"],[1,"ion-no-margin","style-subtitle"],["size","1"],["name","calendar-outline",2,"font-size","20px","margin-right","5px"],[1,"d-flex","ion-no-margin",2,"margin-left","10px!important"],["name","medkit-outline",2,"font-size","20px","margin-right","5px"],["name","cart-outline",2,"font-size","20px","margin-right","5px"],[1,"ion-text-center"],["name","print-outline",2,"font-size","60px","color","#2dd36f",3,"click"]],template:function(i,o){1&i&&(s.Ib(0,"app-header",0),s.Kb(1,"ion-content",1),s.ec(2,m,4,0,"ion-item",2),s.Kb(3,"ion-list",3),s.ec(4,f,10,4,"ion-item",2),s.ec(5,p,4,0,"ion-item",2),s.Jb(),s.Kb(6,"div",4),s.Kb(7,"div",5),s.ec(8,h,44,5,"ion-card",6),s.Jb(),s.Jb(),s.Jb()),2&i&&(s.xb(2),s.Xb("ngIf",o.lengthfamily>1),s.xb(2),s.Xb("ngIf",o.datauser),s.xb(1),s.Xb("ngIf",!o.datauser),s.xb(3),s.Xb("ngForOf",o.listAutorizaciones))},directives:[d.a,a.o,n.j,a.v,n.i,a.t,a.h,a.r,a.d,a.u,a.F,a.j,a.k,a.p,a.A,a.n],styles:[""]}),i})()}];let J=(()=>{class i{}return i.\u0275mod=s.Fb({type:i}),i.\u0275inj=s.Eb({factory:function(o){return new(o||i)},imports:[[b.k.forChild(g)],b.k]}),i})();var K=t("j1ZV");let I=(()=>{class i{}return i.\u0275mod=s.Fb({type:i}),i.\u0275inj=s.Eb({factory:function(o){return new(o||i)},imports:[[n.b,e.a,a.M,J,K.a]]}),i})()}}]);