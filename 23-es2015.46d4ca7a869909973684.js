(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"8Rtr":function(i,o,t){"use strict";t.r(o),t.d(o,"PqrPageModule",(function(){return O}));var n=t("ofXK"),e=t("3Pt+"),b=t("TEn/"),a=t("tyNb"),c=t("mrSG"),r=t("J0L8"),l=t("sFk+"),s=t("fXoL"),d=t("N+K7"),m=t("2MiI");function u(i,o){if(1&i){const i=s.Lb();s.Kb(0,"ion-item"),s.Kb(1,"ion-button",11),s.Sb("click",(function(){return s.bc(i),s.Ub().validatefamilygroup()})),s.Ib(2,"ion-icon",12),s.fc(3," Familia "),s.Jb(),s.Jb()}}function p(i,o){if(1&i&&(s.Kb(0,"ion-item"),s.Kb(1,"ion-avatar",13),s.Ib(2,"img",14),s.Jb(),s.Kb(3,"ion-label",15),s.Kb(4,"p",16),s.fc(5),s.Jb(),s.Kb(6,"h5",17),s.fc(7),s.Jb(),s.Kb(8,"h5",17),s.fc(9),s.Jb(),s.Jb(),s.Jb()),2&i){const i=s.Ub();s.xb(5),s.hc("",i.datauser.NOMBRE," "),s.xb(2),s.gc(i.datauser.TIPO_FAMILIA),s.xb(2),s.ic("",i.datauser.TIPO_DOCUMENTO," - ",i.datauser.DOCUMENTO,"")}}function f(i,o){1&i&&(s.Kb(0,"ion-item"),s.Kb(1,"ion-avatar",13),s.Ib(2,"img",14),s.Jb(),s.Ib(3,"ion-skeleton-text",18),s.Jb())}function g(i,o){if(1&i){const i=s.Lb();s.Kb(0,"ion-row"),s.Kb(1,"ion-col",27),s.Kb(2,"div"),s.Kb(3,"ion-icon",28),s.Sb("click",(function(){s.bc(i);const o=s.Ub().$implicit;return s.Ub().printPQR(o)})),s.Jb(),s.Jb(),s.Jb(),s.Jb()}}function J(i,o){if(1&i&&(s.Kb(0,"ion-card",19),s.Kb(1,"ion-card-content",20),s.Kb(2,"ion-grid"),s.Kb(3,"ion-row"),s.Kb(4,"ion-col"),s.Kb(5,"h4",21),s.fc(6),s.Jb(),s.Jb(),s.Jb(),s.Kb(7,"ion-row"),s.Kb(8,"ion-col",22),s.Kb(9,"ion-label"),s.Ib(10,"ion-icon",23),s.Jb(),s.Jb(),s.Kb(11,"ion-col"),s.Kb(12,"ion-label"),s.Kb(13,"h6",24),s.fc(14),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Kb(15,"ion-row"),s.Kb(16,"ion-col",22),s.Kb(17,"ion-label"),s.Ib(18,"ion-icon",25),s.Jb(),s.Jb(),s.Kb(19,"ion-col"),s.Kb(20,"ion-label",26),s.Kb(21,"h6",24),s.fc(22),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Kb(23,"ion-row"),s.Kb(24,"ion-col",22),s.Kb(25,"ion-label"),s.Ib(26,"ion-icon",23),s.Jb(),s.Jb(),s.Kb(27,"ion-col"),s.Kb(28,"ion-label",26),s.Kb(29,"h6",24),s.fc(30),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Kb(31,"ion-row"),s.Kb(32,"ion-col",22),s.Kb(33,"ion-label"),s.Ib(34,"ion-icon",23),s.Jb(),s.Jb(),s.Kb(35,"ion-col"),s.Kb(36,"ion-label",26),s.Kb(37,"h6",24),s.fc(38),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.ec(39,g,4,0,"ion-row",2),s.Jb()),2&i){const i=o.$implicit;s.xb(6),s.hc(" # ",i.NUMERO,""),s.xb(8),s.hc(" Radicaci\xf3n ",i.FECHA_RADICACION," "),s.xb(8),s.hc(" ",i.SOLICITUD," "),s.xb(8),s.hc(" Respuesta ",i.FECHA_ENTREGA," "),s.xb(8),s.hc(" ",i.ESTADO_PQR," "),s.xb(1),s.Xb("ngIf","P"==i.ESTADO_CODIGO)}}const h=[{path:"",component:(()=>{class i{constructor(i,o){this.modalController=i,this.service=o,this.lengthfamily=0}ngOnInit(){}ionViewWillEnter(){this.validatefamilygroup()}validatefamilygroup(){this.service.getQuery("servicios/identificacion/afiliado/grupo-familiar",!0).subscribe(i=>{let o;o=i,this.lengthfamily=o.data.length,"C"==localStorage.getItem("tipo_afil")&&this.lengthfamily>1?this.presentModal(o):(this.datauser={DOCUMENTO:localStorage.getItem("documento"),NOMBRE:localStorage.getItem("nombre_afiliado"),TIPO_DOCUMENTO:localStorage.getItem("tipodocumento"),TIPO_FAMILIA:localStorage.getItem("tipo_familia"),ESTADO:localStorage.getItem("estado")},this.getPQRS(localStorage.getItem("tipodocumento"),localStorage.getItem("documento")))})}presentModal(i){return Object(c.a)(this,void 0,void 0,(function*(){const o=yield this.modalController.create({component:r.a,cssClass:"my-custom-class",backdropDismiss:!1,componentProps:{grupofamiliar:i.data}});return o.onDidDismiss().then(i=>{const o=i.data;this.datauser=o,this.getPQRS(o.TIPO_DOCUMENTO,o.DOCUMENTO)}),yield o.present()}))}getPQRS(i,o){this.service.getQuery("procesos/pqr/pqr",!0,{tipo_documento:i,documento:o}).subscribe(i=>{this.listPQRS=i,this.service.post("servicios/trazabilidad/traza?modulo=9").subscribe(i=>{})})}createPqr(){return Object(c.a)(this,void 0,void 0,(function*(){const i=yield this.modalController.create({component:l.a,cssClass:"my-custom-class",backdropDismiss:!1,componentProps:{datauser:this.datauser}});return i.onDidDismiss().then(i=>{const o=i.data;this.getPQRS(o.TIPO_DOCUMENTO,o.DOCUMENTO)}),yield i.present()}))}printPQR(i){window.open(i.PQR_ADJUNTO)}}return i.\u0275fac=function(o){return new(o||i)(s.Hb(b.Q),s.Hb(d.a))},i.\u0275cmp=s.Bb({type:i,selectors:[["app-pqr"]],decls:18,vars:4,consts:[["titulo","PQR"],[1,"ion-padding"],[4,"ngIf"],["lines","none"],[1,"ion-text-center","style-title",2,"font-size","20px","margin-top","0"],["outline","",1,"style-button-action",2,"border-color","#3B55E6 !important",3,"click"],["name","add-circle-outline"],[2,"margin-bottom","0","margin-left","10px"],[1,"thumnails",2,"overflow-x","scroll","overflow-y","hidden"],[1,"list-card"],["class","card-thumb",4,"ngFor","ngForOf"],["fill","clear","slot","end",1,"text-transform-initial",3,"click"],["name","people-outline","slot","end",2,"font-size","25px"],["slot","end"],["src","../../../assets/img/icono-perfil.png"],["text-wrap",""],[1,"color-blue"],[1,"tipo_familia"],["animated","",2,"width","90%"],[1,"card-thumb"],[2,"padding-bottom","0"],[1,"ion-no-margin","style-subtitle"],["size","1"],["name","calendar-outline",2,"font-size","20px","margin-right","5px"],[1,"d-flex","ion-no-margin",2,"margin-left","10px!important"],["name","compass-outline",2,"font-size","23px","margin-right","5px"],[1,"ion-text-wrap"],[1,"ion-text-center"],["name","download-outline",2,"font-size","60px","color","#2dd36f",3,"click"]],template:function(i,o){1&i&&(s.Ib(0,"app-header",0),s.Kb(1,"ion-content",1),s.ec(2,u,4,0,"ion-item",2),s.Kb(3,"ion-list",3),s.ec(4,p,10,4,"ion-item",2),s.ec(5,f,4,0,"ion-item",2),s.Jb(),s.Kb(6,"h1",4),s.fc(7,"Cajacopi EPS te Escucha"),s.Jb(),s.Kb(8,"ion-chip",5),s.Sb("click",(function(){return o.createPqr()})),s.Kb(9,"ion-label"),s.fc(10,"Nueva PQR"),s.Jb(),s.Ib(11,"ion-icon",6),s.Jb(),s.Kb(12,"ion-list"),s.Kb(13,"p",7),s.fc(14,"Listado de Solicitudes"),s.Jb(),s.Kb(15,"div",8),s.Kb(16,"div",9),s.ec(17,J,40,6,"ion-card",10),s.Jb(),s.Jb(),s.Jb(),s.Jb()),2&i&&(s.xb(2),s.Xb("ngIf",o.lengthfamily>1),s.xb(2),s.Xb("ngIf",o.datauser),s.xb(1),s.Xb("ngIf",!o.datauser),s.xb(12),s.Xb("ngForOf",o.listPQRS))},directives:[m.a,b.o,n.j,b.v,b.m,b.u,b.r,n.i,b.t,b.h,b.d,b.F,b.j,b.k,b.p,b.A,b.n],styles:[""]}),i})()}];let K=(()=>{class i{}return i.\u0275mod=s.Fb({type:i}),i.\u0275inj=s.Eb({factory:function(o){return new(o||i)},imports:[[a.k.forChild(h)],a.k]}),i})();var I=t("j1ZV");let O=(()=>{class i{}return i.\u0275mod=s.Fb({type:i}),i.\u0275inj=s.Eb({factory:function(o){return new(o||i)},imports:[[n.b,e.a,b.M,K,I.a]]}),i})()}}]);